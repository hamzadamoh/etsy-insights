(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6982:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>u,d:()=>m});var a=t(95155),r=t(12115),l=t(8376),i=t(11133),n=t(50594),d=t(25318);function o(e){let{message:s,type:t,onClose:o,duration:c=3e3}=e,[m,u]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{u(!1),setTimeout(o,300)},c);return()=>clearTimeout(e)},[c,o]),m)?(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full border rounded-lg shadow-lg p-4 ".concat((()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})()," transition-all duration-300 ease-in-out"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(()=>{switch(t){case"success":return(0,a.jsx)(l.A,{className:"h-5 w-5 text-green-600"});case"error":return(0,a.jsx)(i.A,{className:"h-5 w-5 text-red-600"});default:return(0,a.jsx)(n.A,{className:"h-5 w-5 text-blue-600"})}})(),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-sm font-medium",children:s})}),(0,a.jsx)("button",{onClick:()=>{u(!1),setTimeout(o,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})}):null}let c=r.createContext(void 0);function m(){let e=r.useContext(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function u(e){let{children:s}=e,[t,l]=(0,r.useState)([]),i=e=>{l(s=>s.filter(s=>s.id!==e))};return(0,a.jsxs)(c.Provider,{value:{showToast:(e,s,t)=>{let a=Math.random().toString(36).substr(2,9);l(r=>[...r,{id:a,message:e,type:s,duration:t}])}},children:[s,(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,a.jsx)(o,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i(e.id)},e.id))})]})}},23950:(e,s,t)=>{Promise.resolve().then(t.bind(t,48345)),Promise.resolve().then(t.bind(t,71641))},26126:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155);t(12115);var r=t(74466),l=t(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var a=t(95155),r=t(12115),l=t(99708),i=t(74466),n=t(59434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,...c}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:r,size:i,className:t})),ref:s,...c})});o.displayName="Button"},48345:(e,s,t)=>{"use strict";t.d(s,{default:()=>ew});var a=t(95155),r=t(12115),l=t(34477);let i=(0,l.createServerReference)("60c67c0a8f72463134c3227a229775e7e69be519c6",l.callServer,void 0,l.findSourceMapURL,"getEtsyInsights");var n=t(62177),d=t(90221),o=t(70927),c=t(30285),m=t(62523),u=t(85057),x=t(66695),h=t(50172),f=t(75074),p=t(18018);let j=o.Ik({storeName:o.Yj().min(1,{message:"Store name is required."}),favorites:o.au.number().min(0),age:o.au.number().min(0),views:o.au.number().min(0)});function g(e){let{formAction:s,isSubmitting:t,onFilterChange:l,initialFilters:i}=e,{register:o,handleSubmit:g,watch:v,formState:{errors:N}}=(0,n.mN)({resolver:(0,d.u)(j),defaultValues:{storeName:"",favorites:i.favorites,age:i.age,views:i.views}}),b=v("favorites"),y=v("age"),w=v("views");return r.useEffect(()=>{l({favorites:b,age:y,views:w})},[b,y,w,l]),(0,a.jsxs)(x.Zp,{className:"w-full max-w-4xl mx-auto no-print shadow-lg",children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Store Analyzer"}),(0,a.jsx)(x.BT,{children:"Enter a store name and set your analysis filters."})]}),(0,a.jsx)(x.Wu,{children:(0,a.jsxs)("form",{onSubmit:g(e=>{let t=new FormData;Object.entries(e).forEach(e=>{let[s,a]=e;t.append(s,String(a))}),s(t)}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"storeName",children:"Store Name"}),(0,a.jsx)(m.p,{id:"storeName",placeholder:"e.g., YourFavoriteStore",...o("storeName")}),N.storeName&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:N.storeName.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.J,{htmlFor:"favorites",children:["Favorites ",">="]}),(0,a.jsx)(m.p,{id:"favorites",type:"number",...o("favorites")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.J,{htmlFor:"age",children:["Age (days) ","<="]}),(0,a.jsx)(m.p,{id:"age",type:"number",...o("age")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.J,{htmlFor:"views",children:["Views ",">="]}),(0,a.jsx)(m.p,{id:"views",type:"number",...o("views")})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[(0,a.jsxs)(c.$,{type:"submit",disabled:t,className:"w-full sm:w-auto",children:[t?(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Analyze Store"]}),(0,a.jsxs)(c.$,{type:"button",variant:"outline",onClick:()=>{window.print()},className:"w-full sm:w-auto",children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Print Results"]})]})]})})]})}var v=t(54011),N=t(59434);let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(v.bL,{ref:s,className:(0,N.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});b.displayName=v.bL.displayName;let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(v._V,{ref:s,className:(0,N.cn)("aspect-square h-full w-full",t),...r})});y.displayName=v._V.displayName;let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(v.H4,{ref:s,className:(0,N.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});w.displayName=v.H4.displayName;var A=t(26126),S=t(15599),_=t(89677),k=t(6982);let C=e=>{let{title:s,value:t,status:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 bg-card rounded-lg border text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:s}),(0,a.jsx)(A.E,{variant:r?"good"===r?"outline":"destructive":"secondary",className:"text-lg font-bold ".concat("good"===r?"text-accent-foreground border-accent":""),children:t})]})};function T(e){let{shop:s,filters:t}=e,{showToast:r}=(0,k.d)(),l=Math.ceil((new Date().getTime()-new Date(1e3*s.create_date).getTime())/864e5),i=async()=>{let e="".concat(s.shop_name,"	").concat(l,"	").concat(s.transaction_sold_count);try{await navigator.clipboard.writeText(e),r("Shop data copied to clipboard!","success")}catch(e){r("Failed to copy to clipboard","error")}};return(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(b,{className:"h-16 w-16 border-2 border-primary/50",children:[(0,a.jsx)(y,{src:s.icon_url_fullxfull||"",alt:s.shop_name}),(0,a.jsx)(w,{children:s.shop_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.ZB,{className:"text-2xl",children:s.shop_name}),(0,a.jsxs)(x.BT,{children:["On Etsy for ",(0,_.m)(new Date(1e3*s.create_date))]})]})]}),(0,a.jsxs)(c.$,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),"Copy Data"]})]})}),(0,a.jsxs)(x.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(C,{title:"Age (days)",value:l,status:l<=t.age?"good":"bad"}),(0,a.jsx)(C,{title:"Total Sales",value:s.transaction_sold_count.toLocaleString()}),(0,a.jsx)(C,{title:"Shop Favorites",value:s.num_favorers.toLocaleString()}),(0,a.jsx)(C,{title:"Active Listings",value:s.listing_active_count.toLocaleString()})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg border",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3 text-center",children:"Financial Insights"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(s.transaction_sold_count/Math.max(l,1)).toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Sales/Day"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.transaction_sold_count>0?"Active":"No Sales"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Sales Status"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:s.transaction_sold_count>0?"Yes":"No"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Generating Revenue"})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-background rounded border",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center mb-2",children:"\uD83D\uDCA1 Etsy Fee Calculator (Estimated)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Transaction Fee (6.5%):"}),(0,a.jsxs)("span",{className:"font-mono",children:["-$",(.065*s.transaction_sold_count).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Payment Processing (3%):"}),(0,a.jsxs)("span",{className:"font-mono",children:["-$",(.03*s.transaction_sold_count).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Listing Fee ($0.20 each):"}),(0,a.jsxs)("span",{className:"font-mono",children:["-$",(.2*s.listing_active_count).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,a.jsx)("span",{children:"Total Fees:"}),(0,a.jsxs)("span",{className:"font-mono text-red-600",children:["-$",(.095*s.transaction_sold_count+.2*s.listing_active_count).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-semibold text-green-600",children:[(0,a.jsx)("span",{children:"Net Revenue:"}),(0,a.jsxs)("span",{className:"font-mono",children:["$",(s.transaction_sold_count-(.095*s.transaction_sold_count+.2*s.listing_active_count)).toFixed(2)]})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-background rounded border",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center mb-2",children:"\uD83D\uDCCA Revenue Estimates (Based on Typical Etsy Pricing)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:["$",(15*s.transaction_sold_count).toLocaleString()]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Conservative ($15 avg)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["$",(25*s.transaction_sold_count).toLocaleString()]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Moderate ($25 avg)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:["$",(35*s.transaction_sold_count).toLocaleString()]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Premium ($35 avg)"})]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground text-center mt-2",children:"*Estimates based on typical Etsy product pricing ranges"})]})]}),(0,a.jsx)("div",{className:"mt-4 text-center text-sm",children:(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Filter criteria: Age ","<="," ",(0,a.jsxs)("span",{className:"font-semibold text-primary",children:[t.age," days"]}),", Favorites ",">="," ",(0,a.jsx)("span",{className:"font-semibold text-primary",children:t.favorites}),", Views ",">="," ",(0,a.jsx)("span",{className:"font-semibold text-primary",children:t.views}),"."]})})]})]})}var F=t(85127),R=t(27150),E=t(20203),D=t(73926),L=t(68718),$=t(68098),M=t(17607),P=t(51920),z=t(87374),I=t(53054),B=t(89829),O=t(61840),V=t(66766);let U=e=>{let{children:s,isGood:t}=e;return(0,a.jsx)(F.nA,{className:(0,N.cn)(t?"bg-accent/30":"bg-destructive/10"),children:(0,a.jsx)("div",{className:(0,N.cn)("font-semibold",t?"text-accent-foreground":"text-destructive-foreground"),children:s})})};function J(e){let{listings:s,filters:t}=e,{showToast:l}=(0,k.d)(),[i,n]=(0,r.useState)("favorites"),[d,o]=(0,r.useState)("desc"),m=e=>Math.ceil((new Date().getTime()-new Date(1e3*e).getTime())/864e5),u=e=>{i===e?o("asc"===d?"desc":"asc"):(n(e),o("desc"))},h=(0,r.useMemo)(()=>[...s].sort((e,s)=>{let t,a;switch(i){case"favorites":t=e.num_favorers,a=s.num_favorers;break;case"views":t=e.views,a=s.views;break;case"age":t=m(e.original_creation_timestamp),a=m(s.original_creation_timestamp);break;case"stock":t=e.quantity,a=s.quantity;break;case"lastModified":t=e.last_modified_timestamp,a=s.last_modified_timestamp;break;default:return 0}return"asc"===d?t-a:a-t}),[s,i,d]),f=e=>i!==e?(0,a.jsx)(R.A,{className:"h-4 w-4"}):"asc"===d?(0,a.jsx)(E.A,{className:"h-4 w-4"}):(0,a.jsx)(D.A,{className:"h-4 w-4"}),p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!s||0===s.length)return void l("No data to download. Please analyze a shop first.","error");try{let t,a;e?(t=["Product Name","Type","Favorites","Views","Age (days)","Stock","Last Modified","Tags","Etsy URL"],a=h.map(e=>{var s;let t=m(e.original_creation_timestamp);return[e.title,e.listing_type,e.num_favorers,e.views,t,e.quantity,new Date(1e3*e.last_modified_timestamp).toLocaleDateString(),(null==(s=e.tags)?void 0:s.join(", "))||"No Tags",e.url]})):(t=["Product Name","Tags","Etsy URL"],a=h.map(e=>{var s;return[e.title,(null==(s=e.tags)?void 0:s.join(", "))||"No Tags",e.url]}));let r=[t,...a].map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(",")).join("\n"),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),d=URL.createObjectURL(i);n.setAttribute("href",d),n.setAttribute("download","etsy-listings-".concat(e?"full":"basic","-").concat(new Date().toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),l("Download Complete! CSV file with ".concat(s.length," listings has been downloaded."),"success")}catch(e){l("Download Failed. Failed to create CSV file.","error")}};return(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(x.ZB,{children:["Product Listings (",s.length,")"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.$,{onClick:()=>p(!1),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:0===s.length,children:[(0,a.jsx)(L.A,{className:"h-4 w-4"}),"Download Basic CSV"]}),(0,a.jsxs)(c.$,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:0===s.length,children:[(0,a.jsx)(L.A,{className:"h-4 w-4"}),"Download Full CSV"]})]})]})}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(F.XI,{children:[(0,a.jsx)(F.A0,{children:(0,a.jsxs)(F.Hj,{children:[(0,a.jsx)(F.nd,{children:"Product"}),(0,a.jsx)(F.nd,{children:(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>u("favorites"),className:"h-auto p-0 font-medium hover:bg-transparent",children:[(0,a.jsx)($.A,{className:"inline-block h-4 w-4 mr-1"}),"Favorites",f("favorites")]})}),(0,a.jsx)(F.nd,{children:(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>u("views"),className:"h-auto p-0 font-medium hover:bg-transparent",children:[(0,a.jsx)(M.A,{className:"inline-block h-4 w-4 mr-1"}),"Views",f("views")]})}),(0,a.jsx)(F.nd,{children:(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>u("age"),className:"h-auto p-0 font-medium hover:bg-transparent",children:[(0,a.jsx)(P.A,{className:"inline-block h-4 w-4 mr-1"}),"Age",f("age")]})}),(0,a.jsx)(F.nd,{children:(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>u("stock"),className:"h-auto p-0 font-medium hover:bg-transparent",children:[(0,a.jsx)(z.A,{className:"inline-block h-4 w-4 mr-1"}),"Stock",f("stock")]})}),(0,a.jsx)(F.nd,{children:(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>u("lastModified"),className:"h-auto p-0 font-medium hover:bg-transparent",children:["Last Modified",f("lastModified")]})}),(0,a.jsxs)(F.nd,{children:[(0,a.jsx)(I.A,{className:"inline-block h-4 w-4 mr-1"}),"Tags"]}),(0,a.jsx)(F.nd,{children:"Link"})]})}),(0,a.jsx)(F.BF,{children:h.map(e=>{var s,r,l,i,n;let d=m(e.original_creation_timestamp),o=e.num_favorers>=t.favorites,u=e.views>=t.views,x=d<=t.age;return(0,a.jsxs)(F.Hj,{children:[(0,a.jsx)(F.nA,{className:"font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(V.default,{src:null!=(i=null==(r=e.images)||null==(s=r[0])?void 0:s.url_75x75)?i:"https://placehold.co/75x75.png",alt:e.title,width:50,height:50,className:"rounded-md border","data-ai-hint":"product image"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"max-w-[200px] truncate",children:e.title}),(0,a.jsxs)(A.E,{variant:"physical"===e.listing_type?"secondary":"outline",className:"w-fit",children:["physical"===e.listing_type?(0,a.jsx)(z.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(B.A,{className:"h-3 w-3 mr-1"}),e.listing_type]})]})]})}),(0,a.jsx)(U,{isGood:o,children:e.num_favorers.toLocaleString()}),(0,a.jsx)(U,{isGood:u,children:e.views.toLocaleString()}),(0,a.jsxs)(U,{isGood:x,children:[d,"d"]}),(0,a.jsx)(F.nA,{className:"text-center",children:(0,a.jsx)(A.E,{variant:e.quantity>0?"default":"destructive",children:e.quantity})}),(0,a.jsx)(F.nA,{children:(0,_.m)(new Date(1e3*e.last_modified_timestamp),{addSuffix:!0})}),(0,a.jsx)(F.nA,{children:(0,a.jsx)("div",{className:"max-w-[250px] max-h-20 overflow-y-auto text-xs text-muted-foreground",children:null!=(n=null==(l=e.tags)?void 0:l.join(", "))?n:"No Tags"})}),(0,a.jsx)(F.nA,{children:(0,a.jsx)(c.$,{asChild:!0,variant:"ghost",size:"icon",children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(O.A,{className:"h-4 w-4"})})})})]},e.listing_id)})})]})})})]})}let Z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,N.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});Z.displayName="Textarea";var H=t(60679);function W(){let{showToast:e}=(0,k.d)(),[s,t]=(0,r.useState)(""),[l,i]=(0,r.useState)([]),[n,d]=(0,r.useState)(!1),o=async()=>{if(!s.trim())return void e("No shops entered. Please enter shop names to analyze.","error");let t=s.split("\n").map(e=>e.trim()).filter(e=>e.length>0);if(0===t.length)return void e("No valid shop names. Please enter at least one valid shop name.","error");d(!0),i(t.map(e=>({shop_name:e,age_days:0,total_sales:0,shop_favorites:0,active_listings:0,status:"loading"})));for(let e=0;e<t.length;e++)try{let s=await fetch("/api/etsy/shop",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopName:t[e]})});if(s.ok){let t=(await s.json()).shop,a=Math.ceil((new Date().getTime()-new Date(1e3*t.create_date).getTime())/864e5);i(s=>s.map((s,r)=>r===e?{...s,age_days:a,total_sales:t.transaction_sold_count,shop_favorites:t.num_favorers,active_listings:t.listing_active_count,status:"success"}:s))}else throw Error("Failed to fetch shop data")}catch(s){i(t=>t.map((t,a)=>a===e?{...t,status:"error",error:s instanceof Error?s.message:"Unknown error"}:t))}d(!1)},m=async()=>{if(0===l.length)return;let s=[["Shop Name","Age (days)","Total Sales","Shop Favorites","Active Listings"],...l.filter(e=>"success"===e.status).map(e=>[e.shop_name,e.age_days,e.total_sales,e.shop_favorites,e.active_listings])].map(e=>e.join("	")).join("\n");try{await navigator.clipboard.writeText(s),e("Shop data copied to clipboard in tab-separated format!","success")}catch(s){e("Copy failed. Failed to copy to clipboard.","error")}},u=async()=>{if(0===l.length)return;let s=l.filter(e=>"success"===e.status).map(e=>e.total_sales).join("\n");try{await navigator.clipboard.writeText(s),e("Sales numbers copied to clipboard (one per line)!","success")}catch(s){e("Copy failed. Failed to copy sales to clipboard.","error")}};return(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"h-5 w-5"}),"Bulk Shop Analysis"]})}),(0,a.jsxs)(x.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Paste shop names from Google Sheets (one per line):"}),(0,a.jsx)(Z,{value:s,onChange:e=>t(e.target.value),placeholder:"Shop Name 1 Shop Name 2 Shop Name 3",rows:4,className:"font-mono"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.$,{onClick:o,disabled:n||!s.trim(),className:"flex items-center gap-2",children:[n?(0,a.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(H.A,{className:"h-4 w-4"}),n?"Analyzing...":"Analyze Shops"]}),l.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.$,{onClick:m,variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),"Copy All Data"]}),(0,a.jsxs)(c.$,{onClick:u,variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),"Copy Sales Only"]}),(0,a.jsx)(c.$,{onClick:()=>{t(""),i([])},variant:"outline",size:"sm",children:"Clear"})]})]}),l.length>0&&(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(F.XI,{children:[(0,a.jsx)(F.A0,{children:(0,a.jsxs)(F.Hj,{children:[(0,a.jsx)(F.nd,{children:"Shop Name"}),(0,a.jsx)(F.nd,{children:"Age (days)"}),(0,a.jsx)(F.nd,{children:"Total Sales"}),(0,a.jsx)(F.nd,{children:"Shop Favorites"}),(0,a.jsx)(F.nd,{children:"Active Listings"}),(0,a.jsx)(F.nd,{children:"Status"})]})}),(0,a.jsx)(F.BF,{children:l.map((e,s)=>(0,a.jsxs)(F.Hj,{children:[(0,a.jsx)(F.nA,{className:"font-medium",children:e.shop_name}),(0,a.jsx)(F.nA,{children:e.age_days}),(0,a.jsx)(F.nA,{children:e.total_sales.toLocaleString()}),(0,a.jsx)(F.nA,{children:e.shop_favorites.toLocaleString()}),(0,a.jsx)(F.nA,{children:e.active_listings.toLocaleString()}),(0,a.jsxs)(F.nA,{children:["loading"===e.status&&(0,a.jsxs)(A.E,{variant:"secondary",children:[(0,a.jsx)(h.A,{className:"h-3 w-3 animate-spin mr-1"}),"Loading"]}),"success"===e.status&&(0,a.jsx)(A.E,{variant:"default",children:"Success"}),"error"===e.status&&(0,a.jsx)(A.E,{variant:"destructive",title:e.error,children:"Error"})]})]},s))})]})})]})]})}var q=t(83540),G=t(93774),Y=t(94754),X=t(96025),K=t(16238),Q=t(94517),ee=t(17398),es=t(80659);function et(e){let{listings:s}=e,t=r.useMemo(()=>{if(!s||0===s.length)return[];let e=s.reduce((e,s)=>{let t=new Date(1e3*s.original_creation_timestamp),a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));return e[a]||(e[a]=0),e[a]++,e},{});return Object.keys(e).sort().map(s=>{let[t,a]=s.split("-");return{date:new Date(parseInt(t),parseInt(a)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"}),count:e[s]}})},[s]);return 0===t.length?(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),"Product Listing Timeline"]})}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No product listing data available"})})]}):(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(es.A,{className:"h-5 w-5"}),"Product Listing Timeline"]})}),(0,a.jsx)(x.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Shows monthly product listing activity over time"}),(0,a.jsx)(q.u,{width:"100%",height:300,children:(0,a.jsxs)(G.E,{data:t,children:[(0,a.jsx)(Y.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(X.W,{dataKey:"date",stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(K.h,{stroke:"#9CA3AF",fontSize:12,tickFormatter:e=>e.toString()}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),(0,a.jsx)(ee.y,{dataKey:"count",fill:"#3B82F6",radius:[4,4,0,0],name:"Monthly Listings"})]})}),(0,a.jsx)("div",{className:"flex justify-center gap-6 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,a.jsx)("span",{children:"Monthly Listings"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Math.max(...t.map(e=>e.count))}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Most in One Month"})]}),(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Months"})]})]})]})})]})}function ea(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,N.cn)("animate-pulse rounded-md bg-muted",s),...t})}let er=(0,t(74466).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),el=r.forwardRef((e,s)=>{let{className:t,variant:r,...l}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,N.cn)(er({variant:r}),t),...l})});el.displayName="Alert";let ei=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,N.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})});ei.displayName="AlertTitle";let en=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,N.cn)("text-sm [&_p]:leading-relaxed",t),...r})});en.displayName="AlertDescription";var ed=t(30064);let eo=ed.bL,ec=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ed.B8,{ref:s,className:(0,N.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});ec.displayName=ed.B8.displayName;let em=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ed.l9,{ref:s,className:(0,N.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});em.displayName=ed.l9.displayName;let eu=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ed.UC,{ref:s,className:(0,N.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});eu.displayName=ed.UC.displayName;var ex=t(11133);let eh=0,ef=new Map,ep=e=>{if(ef.has(e))return;let s=setTimeout(()=>{ef.delete(e),eN({type:"REMOVE_TOAST",toastId:e})},1e6);ef.set(e,s)},ej=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?ep(t):e.toasts.forEach(e=>{ep(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},eg=[],ev={toasts:[]};function eN(e){ev=ej(ev,e),eg.forEach(e=>{e(ev)})}function eb(e){let{...s}=e,t=(eh=(eh+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>eN({type:"DISMISS_TOAST",toastId:t});return eN({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>eN({type:"UPDATE_TOAST",toast:{...e,id:t}})}}let ey={data:null,error:null};function ew(){let[e,s]=(0,r.useTransition)(),[t,l]=(0,r.useActionState)(i,ey),[n,d]=(0,r.useState)({favorites:5,age:30,views:5}),{toast:o}=function(){let[e,s]=r.useState(ev);return r.useEffect(()=>(eg.push(s),()=>{let e=eg.indexOf(s);e>-1&&eg.splice(e,1)}),[e]),{...e,toast:eb,dismiss:e=>eN({type:"DISMISS_TOAST",toastId:e})}}();r.useEffect(()=>{t.error&&o({variant:"destructive",title:"An error occurred",description:t.error})},[t,o]);let c=(0,r.useCallback)(e=>{d(e)},[]),m=t.data;return(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)(eo,{defaultValue:"single",className:"w-full",children:[(0,a.jsxs)(ec,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(em,{value:"single",children:"Single Shop Analysis"}),(0,a.jsx)(em,{value:"bulk",children:"Bulk Shop Analysis"})]}),(0,a.jsxs)(eu,{value:"single",className:"space-y-8",children:[(0,a.jsx)(g,{formAction:e=>{s(()=>{l(e)})},isSubmitting:e,onFilterChange:c,initialFilters:n}),e&&!m&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(ea,{className:"h-32 w-full rounded-lg"}),(0,a.jsx)(ea,{className:"h-24 w-full rounded-lg"}),(0,a.jsx)(ea,{className:"h-80 w-full rounded-lg"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ea,{className:"h-12 w-full"}),(0,a.jsx)(ea,{className:"h-16 w-full"}),(0,a.jsx)(ea,{className:"h-16 w-full"}),(0,a.jsx)(ea,{className:"h-16 w-full"})]})]}),t.error&&!e&&!m&&(0,a.jsxs)(el,{variant:"destructive",className:"mt-8",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4"}),(0,a.jsx)(ei,{children:"Error"}),(0,a.jsx)(en,{children:t.error})]}),m&&!e&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(T,{shop:m.shop,filters:n}),(0,a.jsx)(et,{listings:m.listings}),(0,a.jsx)(J,{listings:m.listings,filters:n})]})]}),(0,a.jsx)(eu,{value:"bulk",children:(0,a.jsx)(W,{})})]})})}},59434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(52596),r=t(39688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});i.displayName="Input"},66695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var a=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},71641:(e,s,t)=>{"use strict";t.d(s,{PasswordProtection:()=>X});var a=t(95155),r=t(12115),l=t(66695),i=t(30285),n=t(62523),d=t(45731),o=t(31573),c=t(4607),m=t(17607),u=t(85127),x=t(26126),h=t(15452),f=t(25318),p=t(59434);let j=h.bL,g=h.l9,v=h.ZL;h.bm;let N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(h.hJ,{ref:s,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});N.displayName=h.hJ.displayName;let b=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(v,{children:[(0,a.jsx)(N,{}),(0,a.jsxs)(h.UC,{ref:s,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=h.UC.displayName;let y=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};y.displayName="DialogHeader";let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(h.hE,{ref:s,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});w.displayName=h.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(h.VY,{ref:s,className:(0,p.cn)("text-sm text-muted-foreground",t),...r})}).displayName=h.VY.displayName;var A=t(85057),S=t(89912),_=t(79556),k=t(77381),C=t(10518);let T=S.bL;S.YJ;let F=S.WT,R=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(S.l9,{ref:s,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(S.In,{asChild:!0,children:(0,a.jsx)(_.A,{className:"h-4 w-4 opacity-50"})})]})});R.displayName=S.l9.displayName;let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.PP,{ref:s,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})});E.displayName=S.PP.displayName;let D=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.wn,{ref:s,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(_.A,{className:"h-4 w-4"})})});D.displayName=S.wn.displayName;let L=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(S.ZL,{children:(0,a.jsxs)(S.UC,{ref:s,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(E,{}),(0,a.jsx)(S.LM,{className:(0,p.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(D,{})]})})});L.displayName=S.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.JU,{ref:s,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=S.JU.displayName;let $=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(S.q7,{ref:s,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(S.VF,{children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})}),(0,a.jsx)(S.p4,{children:r})]})});$.displayName=S.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.wv,{ref:s,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=S.wv.displayName;var M=t(13896),P=t(8376),z=t(15599),I=t(18763),B=t(77223),O=t(6982),V=t(23915),U=t(93004),J=t(35317);let Z=(0,V.Wp)({apiKey:"AIzaSyQ32onlpmDZLazMuW48RkqsLK0h9hg144",authDomain:"etsy-6a694.firebaseapp.com",projectId:"etsy-6a694",storageBucket:"etsy-6a694.appspot.com",messagingSenderId:"120161962221",appId:"1:120161962221:web:b734fbdc0b530bf5554e4e4"}),H=(0,U.xI)(Z),W=(0,J.aU)(Z);function q(e){let{onClose:s}=e,{showToast:t}=(0,O.d)(),[n,o]=(0,r.useState)([]),[c,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[p,v]=(0,r.useState)(null),N=async()=>{o((await (0,J.GG)((0,J.rJ)(W,"users"))).docs.map(e=>({id:e.id,...e.data()})))};(0,r.useEffect)(()=>{N()},[]);let A=async e=>{try{if(!e.password)return void t("Password is required","error");let s=(await (0,U.eJ)(H,e.email,e.password)).user,a={name:e.name,email:e.email,role:e.role,status:e.status,createdAt:(0,J.O5)(),lastLogin:null};await (0,J.BN)((0,J.H9)(W,"users",s.uid),a),N(),m(!1),t("Team member added successfully","success")}catch(e){t(e.message,"error")}},S=async(e,s)=>{try{let a=(0,J.H9)(W,"users",e);await (0,J.mZ)(a,s),N(),f(null),t("Team member updated successfully","success")}catch(e){t(e.message,"error")}},_=async e=>{try{let s=(0,J.H9)(W,"users",e);await (0,J.kd)(s),N(),t("Team member deleted successfully","success")}catch(e){t(e.message,"error")}},k=async(e,s)=>{try{await navigator.clipboard.writeText(e),v(s),setTimeout(()=>v(null),2e3)}catch(e){t("Failed to copy","error")}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 overflow-y-auto",children:(0,a.jsx)("div",{className:"container mx-auto p-4 max-w-6xl",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ZB,{className:"text-2xl",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage team members and access"})]})]}),(0,a.jsx)(i.$,{onClick:s,variant:"outline",children:"Close"})]})}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Team Members"}),(0,a.jsxs)(j,{open:c,onOpenChange:m,children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsxs)(i.$,{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),"Add Member"]})}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{children:"Add New Team Member"})}),(0,a.jsx)(G,{onSubmit:A})]})]})]}),(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(u.XI,{children:[(0,a.jsx)(u.A0,{children:(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nd,{children:"Name"}),(0,a.jsx)(u.nd,{children:"Email"}),(0,a.jsx)(u.nd,{children:"Role"}),(0,a.jsx)(u.nd,{children:"Status"}),(0,a.jsx)(u.nd,{children:"User ID"}),(0,a.jsx)(u.nd,{children:"Actions"})]})}),(0,a.jsx)(u.BF,{children:n.map(e=>(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(u.nA,{children:e.email}),(0,a.jsx)(u.nA,{children:(0,a.jsx)(x.E,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),(0,a.jsx)(u.nA,{children:(0,a.jsx)(x.E,{variant:"active"===e.status?"default":"destructive",children:e.status})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-mono text-xs",children:e.id}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>k(e.id,e.id),children:p===e.id?(0,a.jsx)(P.A,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(z.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>f(e),children:(0,a.jsx)(I.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{children:"Edit Team Member"})}),(0,a.jsx)(Y,{member:e,onSubmit:s=>S(e.id,s),onCancel:()=>f(null)})]})]}),"admin"!==e.role&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>_(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(B.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})]})})})}function G(e){let{onSubmit:s}=e,{showToast:t}=(0,O.d)(),[l,d]=(0,r.useState)({name:"",email:"",password:"",role:"user",status:"active"});return(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.name||!l.email||!l.password)return void t("Please fill in all fields","error");s(l)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(n.p,{id:"name",value:l.name,onChange:e=>d({...l,name:e.target.value}),placeholder:"Full Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(n.p,{id:"email",type:"email",value:l.email,onChange:e=>d({...l,email:e.target.value}),placeholder:"email@company.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(n.p,{id:"password",type:"password",value:l.password,onChange:e=>d({...l,password:e.target.value}),placeholder:"Enter password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"role",children:"Role"}),(0,a.jsxs)(T,{value:l.role,onValueChange:e=>d({...l,role:e}),children:[(0,a.jsx)(R,{children:(0,a.jsx)(F,{})}),(0,a.jsxs)(L,{children:[(0,a.jsx)($,{value:"user",children:"User"}),(0,a.jsx)($,{value:"admin",children:"Admin"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(T,{value:l.status,onValueChange:e=>d({...l,status:e}),children:[(0,a.jsx)(R,{children:(0,a.jsx)(F,{})}),(0,a.jsxs)(L,{children:[(0,a.jsx)($,{value:"active",children:"Active"}),(0,a.jsx)($,{value:"inactive",children:"Inactive"})]})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(i.$,{type:"submit",className:"flex-1",children:"Add Member"})})]})}function Y(e){let{member:s,onSubmit:t,onCancel:l}=e,[d,o]=(0,r.useState)({name:s.name,email:s.email,role:s.role,status:s.status});return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(d)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"edit-name",children:"Name"}),(0,a.jsx)(n.p,{id:"edit-name",value:d.name,onChange:e=>o({...d,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"edit-email",children:"Email"}),(0,a.jsx)(n.p,{id:"edit-email",type:"email",value:d.email,onChange:e=>o({...d,email:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"edit-role",children:"Role"}),(0,a.jsxs)(T,{value:d.role,onValueChange:e=>o({...d,role:e}),children:[(0,a.jsx)(R,{children:(0,a.jsx)(F,{})}),(0,a.jsxs)(L,{children:[(0,a.jsx)($,{value:"user",children:"User"}),(0,a.jsx)($,{value:"admin",children:"Admin"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.J,{htmlFor:"edit-status",children:"Status"}),(0,a.jsxs)(T,{value:d.status,onValueChange:e=>o({...d,status:e}),children:[(0,a.jsx)(R,{children:(0,a.jsx)(F,{})}),(0,a.jsxs)(L,{children:[(0,a.jsx)($,{value:"active",children:"Active"}),(0,a.jsx)($,{value:"inactive",children:"Inactive"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{type:"submit",className:"flex-1",children:"Update Member"}),(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:l,children:"Cancel"})]})]})}function X(e){let{children:s}=e,[t,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[j,g]=(0,r.useState)(!1),[v,N]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1),[w,A]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,U.hg)(H,async e=>{if(e){let s=await (0,J.x7)((0,J.H9)(W,"users",e.uid));if(s.exists()){let t=s.data();A({...e,...t}),u(!0)}else u(!1)}else u(!1),A(null)});return()=>e()},[]);let S=async e=>{e.preventDefault(),N("");try{let e=(await (0,U.x9)(H,x,f)).user,s=await (0,J.x7)((0,J.H9)(W,"users",e.uid));if(s.exists()){let t=s.data();"active"===t.status?(A({...e,...t}),u(!0)):N("Your account is inactive. Please contact an admin.")}else N("User data not found.")}catch(e){N("Invalid email or password.")}},_=async()=>{await (0,U.CI)(H),u(!1),A(null)};return t?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[(null==w?void 0:w.role)==="admin"&&(0,a.jsxs)(i.$,{onClick:()=>y(!0),variant:"outline",size:"sm",className:"bg-background/80 backdrop-blur-sm",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Admin"]}),(0,a.jsxs)(i.$,{onClick:_,variant:"outline",size:"sm",className:"bg-background/80 backdrop-blur-sm",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),b&&(0,a.jsx)(q,{onClose:()=>y(!1)}),s]}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,a.jsxs)(l.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(l.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(o.A,{className:"h-8 w-8 text-primary"})}),(0,a.jsx)(l.ZB,{className:"text-2xl",children:"Etsy Insights"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your credentials to access the tool"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,a.jsx)(n.p,{type:"email",placeholder:"Email",value:x,onChange:e=>h(e.target.value)}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.p,{type:j?"text":"password",placeholder:"Password",value:f,onChange:e=>p(e.target.value),className:"pr-10"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!j),children:j?(0,a.jsx)(c.A,{className:"h-4 w-4"}):(0,a.jsx)(m.A,{className:"h-4 w-4"})})]}),v&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800",children:v}),(0,a.jsxs)(i.$,{type:"submit",className:"w-full",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Access Tool"]})]})})]})})}},85057:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(95155),r=t(12115),l=t(40968),i=t(74466),n=t(59434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),t),...r})});o.displayName=l.b.displayName},85127:(e,s,t)=>{"use strict";t.d(s,{A0:()=>n,BF:()=>d,Hj:()=>o,XI:()=>i,nA:()=>m,nd:()=>c});var a=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",t),...r})})});i.displayName="Table";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",t),...r})});n.displayName="TableHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...r})});d.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});o.displayName="TableRow";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});c.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"}},e=>{var s=s=>e(e.s=s);e.O(0,[138,992,442,441,684,358],()=>s(23950)),_N_E=e.O()}]);